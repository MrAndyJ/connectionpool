# connectionpool
基于C++实现的Mysql数据库连接池
1. 使用单例模式设计ConnectionPool，只允许一个实例。
2. 用户获取链接使用过shared_ptr来管理，并使用lambda定制删除器，将链接归还到连接池中。
3. 连接池采用生产者和消费者模型来设计，采用线程通信机制的条件变量和互斥锁保证线程安全。
4. 使用容器适配器queue存放Connection，当连接池没有空闲链接时候，使用线程productConnectionTask动态创建新连接；当Connection队列空闲连接时间超过maxIdleTime时候，使用cannelConnectionTask线程释放链接，所有与队列相关的操作，均使用互斥锁保证安全。
压力测试性能对比：
	向数据库中插入数据，对比使用普通方式链接数据库和使用连接池方式链接数据所消耗的时间：
数据量	普通方式花费时间ms	连接池方式插入时间ms	性能对比
2000	     29284	          25698   	提升12.2%
10000	     168685	          154365	  提升8.5%


